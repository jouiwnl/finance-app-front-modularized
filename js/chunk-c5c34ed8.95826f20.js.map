{"version":3,"sources":["webpack:///./src/modules/loans/views/Home.vue?d985","webpack:///src/modules/loans/views/Home.vue","webpack:///./src/modules/loans/views/Home.vue?5aed","webpack:///./src/modules/loans/views/Home.vue","webpack:///./src/modules/loans/services/LoanService.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","attrs","staticClass","_v","on","$event","init","_e","loans","length","isLoading","_l","loan","key","id","situacao","_s","stockId","nomeCarro","inactive","staticRenderFns","name","data","methods","$confirm","response","LoanService","component","VAlert","VBtn","VCard","VCardActions","VCardSubtitle","VCardTitle","VCol","VIcon","VProgressCircular","VRow","VSpacer","findAll","http","get","findById","loanId","create","post","idLoan","patch","pay","listParcelas"],"mappings":"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","file":"js/chunk-c5c34ed8.95826f20.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"padding\":\"20px\"}},[_c('v-row',{attrs:{\"justify\":\"space-between\",\"align\":\"center\"}},[_c('h1',{staticClass:\"mb-3\"},[_vm._v(\"Loans\")]),_c('div',[_c('v-btn',{attrs:{\"color\":\"primary\",\"plain\":\"\"},on:{\"click\":function($event){return _vm.init()}}},[_c('v-icon',[_vm._v(\"mdi-refresh\")])],1),_c('v-btn',{attrs:{\"depressed\":\"\",\"color\":\"primary\",\"to\":\"loans/register\"}},[_c('v-icon',{staticClass:\"pull-right\",attrs:{\"small\":\"\"}},[_vm._v(\"mdi-plus\")]),_vm._v(\" Loan \")],1)],1)]),(_vm.isLoading)?_c('v-row',{staticClass:\"my-12\",attrs:{\"justify\":\"center\",\"no-gutters\":\"\"}},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"color\":\"primary\",\"size\":\"64\"}})],1):_vm._e(),(!_vm.loans.length && !_vm.isLoading)?_c('v-row',{staticClass:\"my-12\",attrs:{\"justify\":\"center\",\"no-gutters\":\"\"}},[_c('v-alert',{attrs:{\"dense\":\"\",\"type\":\"info\"}},[_vm._v(\" No loans registered. \")])],1):(_vm.loans.length && !_vm.isLoading)?_c('v-row',_vm._l((_vm.loans),function(loan){return _c('v-col',{key:loan.id,attrs:{\"sm\":\"4\"}},[_c('v-card',{attrs:{\"disabled\":loan.situacao == 'DEACTIVADED' || loan.situacao == 'PAID'}},[_c('v-card-title',[_vm._v(\" # \"+_vm._s(loan.stockId)+\" \")]),_c('v-card-subtitle',[_c('small',[_vm._v(\"(\"+_vm._s(loan.nomeCarro)+\")\")])]),(loan.situacao != 'DEACTIVADED' && loan.situacao != 'PAID')?_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"to\":(\"/loans/\" + (loan.id)),\"depressed\":\"\"}},[_vm._v(\" View loan \")]),_c('v-btn',{attrs:{\"depressed\":\"\",\"color\":\"error\"},on:{\"click\":function($event){return _vm.inactive(loan.id)}}},[_vm._v(\" Inactive \")])],1):_vm._e(),(loan.situacao == 'DEACTIVADED')?_c('v-card-actions',[_c('v-btn',{attrs:{\"depressed\":\"\",\"color\":\"error\"}},[_vm._v(\" DEACTIVADED \")])],1):_vm._e(),(loan.situacao == 'PAID')?_c('v-card-actions',[_c('v-btn',{attrs:{\"depressed\":\"\",\"color\":\"success\"}},[_vm._v(\" ALL PAID \")])],1):_vm._e()],1)],1)}),1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div style=\"padding: 20px;\">\n    <v-row justify=\"space-between\" align=\"center\">\n      <h1 class=\"mb-3\">Loans</h1>\n      <div>\n        <v-btn color=\"primary\" plain v-on:click=\"init()\">\n          <v-icon>mdi-refresh</v-icon>\n        </v-btn>\n        <v-btn depressed color=\"primary\" to=\"loans/register\">\n          <v-icon small class=\"pull-right\">mdi-plus</v-icon> Loan\n        </v-btn>\n      </div>\n    </v-row>\n    \n    <v-row v-if=\"isLoading\" justify=\"center\" no-gutters class=\"my-12\">\n      <v-progress-circular indeterminate color=\"primary\" size=\"64\" />\n    </v-row>\n\n    <v-row v-if=\"!loans.length && !isLoading\" justify=\"center\" no-gutters class=\"my-12\">\n      <v-alert dense type=\"info\">\n        No loans registered.\n      </v-alert>\n    </v-row>\n\n    <v-row v-else-if=\"loans.length && !isLoading\">\n      <v-col sm=\"4\" v-for=\"loan in loans\" :key=\"loan.id\">\n        <v-card :disabled=\"loan.situacao == 'DEACTIVADED' || loan.situacao == 'PAID'\">\n          <v-card-title>\n            # {{ loan.stockId }}\n          </v-card-title>\n          <v-card-subtitle>\n            <small>({{loan.nomeCarro}})</small>\n          </v-card-subtitle>\n          <v-card-actions v-if=\"loan.situacao != 'DEACTIVADED' && loan.situacao != 'PAID'\">\n            <v-spacer />\n            <v-btn :to=\"`/loans/${loan.id}`\" depressed>\n              View loan\n            </v-btn>\n            <v-btn depressed color=\"error\" v-on:click=\"inactive(loan.id)\">\n              Inactive\n            </v-btn>\n          </v-card-actions>\n          <v-card-actions v-if=\"loan.situacao == 'DEACTIVADED'\">\n            <v-btn depressed color=\"error\">\n              DEACTIVADED\n            </v-btn>\n          </v-card-actions>\n          <v-card-actions v-if=\"loan.situacao == 'PAID'\">\n            <v-btn depressed color=\"success\">\n              ALL PAID\n            </v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-col>\n    </v-row>\n  </div>\n</template>\n\n<script>\n\nimport LoanService from '../services/LoanService';\nimport CreateToast from '../../../utils/createToast';\n\nexport default {\n  name: \"Home\",\n\n  data: () => ({\n    loans: [],\n    isLoading: false\n  }),\n\n  async created() {\n    this.init()\n  },\n\n  methods: {\n    async init() {\n      this.isLoading = true;\n      this.loans = [];\n      LoanService.findAll().then(response => {\n        this.loans = response.data;\n        this.loans = this.loans.sort();\n      }).catch(err => {\n        CreateToast.createToastFailed('An error ocurred! Please try again!');\n      }).finally(() => {\n        this.isLoading = false;\n      });\n    },\n\n    inactive(idLoan) {\n      this.$confirm(`This action will deactivate this register (this action cannot be undone). Do you wish to continue?`).then(response => {\n        if (response) {\n          this.isLoading = true;\n          LoanService.inactive(idLoan).then(() => {\n            CreateToast.createToastSuccess('Operation success.');\n            this.init();\n          }).catch(err => {\n            CreateToast.createToastFailed('An error ocurred! Please try again!');\n          });\n        }\n      });\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=697da20c&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardSubtitle } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VAlert,VBtn,VCard,VCardActions,VCardSubtitle,VCardTitle,VCol,VIcon,VProgressCircular,VRow,VSpacer})\n","import { http } from '../../../config'\n\nexport default {\n    findAll: () => {\n        return http.get(`contratos`)\n    },\n\n    findById: (loanId) => {\n        return http.get(`contratos/${loanId}`)\n    },\n\n    create: (loan) => {\n        return http.post(`contratos`, loan)\n    },\n\n    inactive: (idLoan) => {\n        return http.patch(`contratos/${idLoan}/inativar`);\n    },\n\n    pay: (loanId, listParcelas) => {\n        return http.post(`contratos/${loanId}/pagar?nrosParcela=${listParcelas}`)\n    }\n}"],"sourceRoot":""}